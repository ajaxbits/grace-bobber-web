{"version":3,"sources":["webpack/bootstrap","../../scripts/menu.ts","../../node_modules/headroom.js/dist/headroom.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","options","headroom_js__WEBPACK_IMPORTED_MODULE_0__","headroom_js__WEBPACK_IMPORTED_MODULE_0___default","siteNav","document","querySelector","videoWrapper","offset","clientHeight","a","init","swipeOver","swipeOverDropDown","querySelectorAll","siteNavHamburger","siteNavHamburgerPath","closeButton","mobileMenuButton","bioLink","addEventListener","e","target","classList","toggle","console","log","matches","parentElement","handleSiteNavHamburger","nextElementSibling","preventDefault","forEach","element","remove","add","handleSwipeOverDropdown","isBrowser","window","Headroom","elem","assign","this","classes","tolerance","down","up","initialised","frozen","constructor","cutsTheMustard","addClass","setTimeout","self","scrollTracker","callback","rafId","isPassiveSupported","supported","passive","removeEventListener","err","passiveEventsSupported","scrolled","scroller","obj","nodeType","isDocument","doc","win","body","html","documentElement","scrollHeight","Math","max","offsetHeight","height","innerHeight","scrollY","undefined","pageYOffset","parentNode","scrollTop","elementScroller","createScroller","lastScrollY","details","update","round","direction","distance","abs","isOutOfBounds","top","bottom","toleranceExceeded","handleScroll","requestAnimationFrame","eventOptions","capture","destroy","cancelAnimationFrame","trackScroll","keys","removeClass","unpin","hasClass","onUnpin","pin","onPin","freeze","unfreeze","onTop","notTop","onNotTop","onBottom","notBottom","onNotBottom","shouldUnpin","shouldPin","className","apply","split","every","cls","contains","pinned","unpinned","initial","factory"],"mappings":"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","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// sticky, but not annoying nav using headroom.js\nimport Headroom from \"headroom.js\";\nconst siteNav = document.querySelector(`nav`) as HTMLElement;\nconst videoWrapper = document.querySelector(`.videoWrapper`) as HTMLElement;\nlet options;\nvideoWrapper\n  ? (options = { offset: videoWrapper.clientHeight })\n  : (options = {});\nvar headroom = new Headroom(siteNav, options);\nheadroom.init();\n\n// activate submenus on swipeOver\nconst swipeOver = document.querySelector(`.swipeOver`);\nconst swipeOverDropDown = document.querySelectorAll(`.swipeOver-dropdown`);\n\n// make the hamburger menu open the swipeOver\nconst siteNavHamburger = document.querySelector(\n  `.siteNav-hamburger`\n) as HTMLElement;\nconst siteNavHamburgerPath = document.querySelector(`.siteNav-hamburger path`);\nconst closeButton = document.querySelector(`.close`) as HTMLElement;\nconst mobileMenuButton = document.querySelector(\n  `.mobileMenuButton`\n) as HTMLElement;\nconst bioLink = document.querySelector(`.bio-link`) as HTMLElement;\n\nconst swipeOverToggle = () => {\n  if (siteNavHamburger && swipeOver && closeButton) {\n    swipeOver.classList.toggle(`swipeOver-isOpen`);\n  }\n};\n\nconst swipeOverList = document.querySelector(`.swipeOver-linkList`);\n\ndocument.addEventListener(`click`, (e: any) => {\n  // listen for clicks on all the menu buttons\n  e.target === siteNavHamburger ||\n  e.target === siteNavHamburgerPath ||\n  e.target === closeButton ||\n  e.target === bioLink ||\n  e.target === mobileMenuButton\n    ? swipeOverToggle()\n    : null;\n\n  console.log(e.target);\n});\n\nconst handleSiteNavHamburger = (e) => {\n  let isHamburger: boolean =\n    e.target.matches(`.siteNav-hamburger`) ||\n    e.target.parentElement.matches(`.siteNav-hamburger`);\n  if (isHamburger) {\n    console.log(`clicked sitenav hamburger dudee`);\n  } else return;\n};\n\nconst handleSwipeOverDropdown = (e) => {\n  // make sure it has a nextElementSibling\n  if (e.target.nextElementSibling) {\n    // delegate event\n    if (!e.target.nextElementSibling.matches(`.swipeOver-dropdown`)) return;\n    //execute code\n    e.preventDefault();\n    swipeOverDropDown.forEach((element) =>\n      element.classList.remove(`swipeOver-dropdown-isOpen`)\n    );\n    e.target.nextElementSibling.classList.add(`swipeOver-dropdown-isOpen`);\n  }\n};\n\ndocument.addEventListener(`click`, (e) => {\n  handleSiteNavHamburger(e);\n  handleSwipeOverDropdown(e);\n});\n","/*!\n * headroom.js v0.11.0 - Give your page some headroom. Hide your header until you need it\n * Copyright (c) 2020 Nick Williams - http://wicky.nillia.ms/headroom.js\n * License: MIT\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Headroom = factory());\n}(this, function () { 'use strict';\n\n  function isBrowser() {\n    return typeof window !== \"undefined\";\n  }\n\n  /**\n   * Used to detect browser support for adding an event listener with options\n   * Credit: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n   */\n  function passiveEventsSupported() {\n    var supported = false;\n\n    try {\n      var options = {\n        // eslint-disable-next-line getter-return\n        get passive() {\n          supported = true;\n        }\n      };\n      window.addEventListener(\"test\", options, options);\n      window.removeEventListener(\"test\", options, options);\n    } catch (err) {\n      supported = false;\n    }\n\n    return supported;\n  }\n\n  function isSupported() {\n    return !!(\n      isBrowser() &&\n      function() {}.bind &&\n      \"classList\" in document.documentElement &&\n      Object.assign &&\n      Object.keys &&\n      requestAnimationFrame\n    );\n  }\n\n  function isDocument(obj) {\n    return obj.nodeType === 9; // Node.DOCUMENT_NODE === 9\n  }\n\n  function isWindow(obj) {\n    // `obj === window` or `obj instanceof Window` is not sufficient,\n    // as the obj may be the window of an iframe.\n    return obj && obj.document && isDocument(obj.document);\n  }\n\n  function windowScroller(win) {\n    var doc = win.document;\n    var body = doc.body;\n    var html = doc.documentElement;\n\n    return {\n      /**\n       * @see http://james.padolsey.com/javascript/get-document-height-cross-browser/\n       * @return {Number} the scroll height of the document in pixels\n       */\n      scrollHeight: function() {\n        return Math.max(\n          body.scrollHeight,\n          html.scrollHeight,\n          body.offsetHeight,\n          html.offsetHeight,\n          body.clientHeight,\n          html.clientHeight\n        );\n      },\n\n      /**\n       * @see http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript\n       * @return {Number} the height of the viewport in pixels\n       */\n      height: function() {\n        return win.innerHeight || html.clientHeight || body.clientHeight;\n      },\n\n      /**\n       * Gets the Y scroll position\n       * @return {Number} pixels the page has scrolled along the Y-axis\n       */\n      scrollY: function() {\n        if (win.pageYOffset !== undefined) {\n          return win.pageYOffset;\n        }\n\n        return (html || body.parentNode || body).scrollTop;\n      }\n    };\n  }\n\n  function elementScroller(element) {\n    return {\n      /**\n       * @return {Number} the scroll height of the element in pixels\n       */\n      scrollHeight: function() {\n        return Math.max(\n          element.scrollHeight,\n          element.offsetHeight,\n          element.clientHeight\n        );\n      },\n\n      /**\n       * @return {Number} the height of the element in pixels\n       */\n      height: function() {\n        return Math.max(element.offsetHeight, element.clientHeight);\n      },\n\n      /**\n       * Gets the Y scroll position\n       * @return {Number} pixels the element has scrolled along the Y-axis\n       */\n      scrollY: function() {\n        return element.scrollTop;\n      }\n    };\n  }\n\n  function createScroller(element) {\n    return isWindow(element) ? windowScroller(element) : elementScroller(element);\n  }\n\n  /**\n   * @param element EventTarget\n   */\n  function trackScroll(element, options, callback) {\n    var isPassiveSupported = passiveEventsSupported();\n    var rafId;\n    var scrolled = false;\n    var scroller = createScroller(element);\n    var lastScrollY = scroller.scrollY();\n    var details = {};\n\n    function update() {\n      var scrollY = Math.round(scroller.scrollY());\n      var height = scroller.height();\n      var scrollHeight = scroller.scrollHeight();\n\n      // reuse object for less memory churn\n      details.scrollY = scrollY;\n      details.lastScrollY = lastScrollY;\n      details.direction = scrollY > lastScrollY ? \"down\" : \"up\";\n      details.distance = Math.abs(scrollY - lastScrollY);\n      details.isOutOfBounds = scrollY < 0 || scrollY + height > scrollHeight;\n      details.top = scrollY <= options.offset;\n      details.bottom = scrollY + height >= scrollHeight;\n      details.toleranceExceeded =\n        details.distance > options.tolerance[details.direction];\n\n      callback(details);\n\n      lastScrollY = scrollY;\n      scrolled = false;\n    }\n\n    function handleScroll() {\n      if (!scrolled) {\n        scrolled = true;\n        rafId = requestAnimationFrame(update);\n      }\n    }\n\n    var eventOptions = isPassiveSupported\n      ? { passive: true, capture: false }\n      : false;\n\n    element.addEventListener(\"scroll\", handleScroll, eventOptions);\n    update();\n\n    return {\n      destroy: function() {\n        cancelAnimationFrame(rafId);\n        element.removeEventListener(\"scroll\", handleScroll, eventOptions);\n      }\n    };\n  }\n\n  function normalizeTolerance(t) {\n    return t === Object(t) ? t : { down: t, up: t };\n  }\n\n  /**\n   * UI enhancement for fixed headers.\n   * Hides header when scrolling down\n   * Shows header when scrolling up\n   * @constructor\n   * @param {DOMElement} elem the header element\n   * @param {Object} options options for the widget\n   */\n  function Headroom(elem, options) {\n    options = options || {};\n    Object.assign(this, Headroom.options, options);\n    this.classes = Object.assign({}, Headroom.options.classes, options.classes);\n\n    this.elem = elem;\n    this.tolerance = normalizeTolerance(this.tolerance);\n    this.initialised = false;\n    this.frozen = false;\n  }\n  Headroom.prototype = {\n    constructor: Headroom,\n\n    /**\n     * Start listening to scrolling\n     * @public\n     */\n    init: function() {\n      if (Headroom.cutsTheMustard && !this.initialised) {\n        this.addClass(\"initial\");\n        this.initialised = true;\n\n        // defer event registration to handle browser\n        // potentially restoring previous scroll position\n        setTimeout(\n          function(self) {\n            self.scrollTracker = trackScroll(\n              self.scroller,\n              { offset: self.offset, tolerance: self.tolerance },\n              self.update.bind(self)\n            );\n          },\n          100,\n          this\n        );\n      }\n\n      return this;\n    },\n\n    /**\n     * Destroy the widget, clearing up after itself\n     * @public\n     */\n    destroy: function() {\n      this.initialised = false;\n      Object.keys(this.classes).forEach(this.removeClass, this);\n      this.scrollTracker.destroy();\n    },\n\n    /**\n     * Unpin the element\n     * @public\n     */\n    unpin: function() {\n      if (this.hasClass(\"pinned\") || !this.hasClass(\"unpinned\")) {\n        this.addClass(\"unpinned\");\n        this.removeClass(\"pinned\");\n\n        if (this.onUnpin) {\n          this.onUnpin.call(this);\n        }\n      }\n    },\n\n    /**\n     * Pin the element\n     * @public\n     */\n    pin: function() {\n      if (this.hasClass(\"unpinned\")) {\n        this.addClass(\"pinned\");\n        this.removeClass(\"unpinned\");\n\n        if (this.onPin) {\n          this.onPin.call(this);\n        }\n      }\n    },\n\n    /**\n     * Freezes the current state of the widget\n     * @public\n     */\n    freeze: function() {\n      this.frozen = true;\n      this.addClass(\"frozen\");\n    },\n\n    /**\n     * Re-enables the default behaviour of the widget\n     * @public\n     */\n    unfreeze: function() {\n      this.frozen = false;\n      this.removeClass(\"frozen\");\n    },\n\n    top: function() {\n      if (!this.hasClass(\"top\")) {\n        this.addClass(\"top\");\n        this.removeClass(\"notTop\");\n\n        if (this.onTop) {\n          this.onTop.call(this);\n        }\n      }\n    },\n\n    notTop: function() {\n      if (!this.hasClass(\"notTop\")) {\n        this.addClass(\"notTop\");\n        this.removeClass(\"top\");\n\n        if (this.onNotTop) {\n          this.onNotTop.call(this);\n        }\n      }\n    },\n\n    bottom: function() {\n      if (!this.hasClass(\"bottom\")) {\n        this.addClass(\"bottom\");\n        this.removeClass(\"notBottom\");\n\n        if (this.onBottom) {\n          this.onBottom.call(this);\n        }\n      }\n    },\n\n    notBottom: function() {\n      if (!this.hasClass(\"notBottom\")) {\n        this.addClass(\"notBottom\");\n        this.removeClass(\"bottom\");\n\n        if (this.onNotBottom) {\n          this.onNotBottom.call(this);\n        }\n      }\n    },\n\n    shouldUnpin: function(details) {\n      var scrollingDown = details.direction === \"down\";\n\n      return scrollingDown && !details.top && details.toleranceExceeded;\n    },\n\n    shouldPin: function(details) {\n      var scrollingUp = details.direction === \"up\";\n\n      return (scrollingUp && details.toleranceExceeded) || details.top;\n    },\n\n    addClass: function(className) {\n      this.elem.classList.add.apply(\n        this.elem.classList,\n        this.classes[className].split(\" \")\n      );\n    },\n\n    removeClass: function(className) {\n      this.elem.classList.remove.apply(\n        this.elem.classList,\n        this.classes[className].split(\" \")\n      );\n    },\n\n    hasClass: function(className) {\n      return this.classes[className].split(\" \").every(function(cls) {\n        return this.classList.contains(cls);\n      }, this.elem);\n    },\n\n    update: function(details) {\n      if (details.isOutOfBounds) {\n        // Ignore bouncy scrolling in OSX\n        return;\n      }\n\n      if (this.frozen === true) {\n        return;\n      }\n\n      if (details.top) {\n        this.top();\n      } else {\n        this.notTop();\n      }\n\n      if (details.bottom) {\n        this.bottom();\n      } else {\n        this.notBottom();\n      }\n\n      if (this.shouldUnpin(details)) {\n        this.unpin();\n      } else if (this.shouldPin(details)) {\n        this.pin();\n      }\n    }\n  };\n\n  /**\n   * Default options\n   * @type {Object}\n   */\n  Headroom.options = {\n    tolerance: {\n      up: 0,\n      down: 0\n    },\n    offset: 0,\n    scroller: isBrowser() ? window : null,\n    classes: {\n      frozen: \"headroom--frozen\",\n      pinned: \"headroom--pinned\",\n      unpinned: \"headroom--unpinned\",\n      top: \"headroom--top\",\n      notTop: \"headroom--not-top\",\n      bottom: \"headroom--bottom\",\n      notBottom: \"headroom--not-bottom\",\n      initial: \"headroom\"\n    }\n  };\n\n  Headroom.cutsTheMustard = isSupported();\n\n  return Headroom;\n\n}));\n"]}
